<p></p>

<div class="card">
  <div class="ui-grid ui-grid-responsive ui-grid-pad">
    <div class="ui-grid-row">
      <div class="ui-grid-col-2 maxWidth150">Date:</div>
      <div class="ui-grid-col-10">
        <table>
          <tr>
            <td><i class="fa fa-arrow-circle-left linkcursor" (click)="previousDay()"></i></td>
            <td><p-calendar [(ngModel)]="currentDay" dateFormat="DD, dd M yy                            :@" (ngModelChange)="dateChanged($event)" [readonlyInput]="true"></p-calendar></td>
            <td><i class="fa fa-arrow-circle-right linkcursor" (click)="nextDay()"></i></td>
          </tr>
        </table>
      </div>
    </div>
    <div class="ui-grid-row">
      <div class="ui-grid-col-2 maxWidth150">Template Search:</div>
      <div class="ui-grid-col-10">
        <p-autoComplete #searchTemplateField [(ngModel)]="currentTemplateString" [suggestions]="autoCompleteResults" (completeMethod)="search($event)" size="100" placeholder="Search with any keyword or click to select from recently used templates"></p-autoComplete>
      </div>
    </div>
  </div>
</div>

<div class="card" *ngIf="currentTemplate">
  <maininput-edit [template]="currentTemplate" [booking]="current" (onCancel)="cancel()" (onSave)="save()"></maininput-edit>
</div>

<div class="card">
<p-dataTable [value]="bookings" [footerRows]="footerRows">
    <header>Bookings</header>
    <p-column field="id" header="ID"></p-column>
    <p-column field="booking_template.psp" header="PSP"></p-column>
    <p-column field="booking_template.name" header="Name"></p-column>
    <p-column field="description" header="Description"></p-column>
    <p-column field="sales_representative" header="Sales Contact"></p-column>
    <p-column field="booking_template.subproject" header="Subproject"></p-column>
    <p-column field="minutes" header="Minutes"></p-column>
    <p-column>
        <template pTemplate type="header">Actions</template>
        <template let-row="rowData" pTemplate type="body">
            <i class="fa fa-edit linkcursor" (click)="edit(row)"></i>
        </template>
    </p-column>
</p-dataTable>
</div>

<div class="card">
    <p-panel [header]="chartsTitle">
      <table>
        <tr>
          <td>
        <div class="card"><p-chart type="doughnut" [data]="pieChartDataProjects.data" [options]="pieChartDataProjects.options" width="400" height="200"></p-chart></div>
          </td>
          <td>
        <div class="card"><p-chart type="pie" [data]="pieChartDataWorkTime.data" [options]="pieChartDataWorkTime.options" width="400" height="200"></p-chart></div>
          </td>
        </tr>
      </table>
    </p-panel>
</div>
